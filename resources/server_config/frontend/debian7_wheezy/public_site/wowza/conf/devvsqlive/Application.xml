<Root>
	<Application>
		<!-- Uncomment to set application level timeout values
		<ApplicationTimeout>60000</ApplicationTimeout>
		<PingTimeout>12000</PingTimeout>
		<ValidationFrequency>8000</ValidationFrequency>
		<MaximumPendingWriteBytes>0</MaximumPendingWriteBytes>
		<MaximumSetBufferTime>60000</MaximumSetBufferTime>
		<MaximumStorageDirDepth>25</MaximumStorageDirDepth>
		-->
		<Connections>
			<AutoAccept>true</AutoAccept>
			<AllowDomains></AllowDomains>
		</Connections>
		<!--
			StorageDir path variables
			
			${com.wowza.wms.AppHome} - Application home directory
			${com.wowza.wms.ConfigHome} - Configuration home directory
			${com.wowza.wms.context.VHost} - Virtual host name
			${com.wowza.wms.context.VHostConfigHome} - Virtual host config directory
			${com.wowza.wms.context.Application} - Application name
			${com.wowza.wms.context.ApplicationInstance} - Application instance name
			
		-->
		<Streams>
			<StreamType>live</StreamType>
			<StorageDir>/srv/vsq/dev.videosquare.eu/livestreams</StorageDir>
			<KeyDir>${com.wowza.wms.context.VHostConfigHome}/keys</KeyDir>
			<!-- LiveStreamPacketizers (separate with commas): cupertinostreamingpacketizer, smoothstreamingpacketizer, sanjosestreamingpacketizer, cupertinostreamingrepeater, smoothstreamingrepeater, sanjosestreamingrepeater, dvrstreamingpacketizer, dvrstreamingrepeater -->
			<LiveStreamPacketizers>cupertinostreamingpacketizer,sanjosestreamingpacketizer,smoothstreamingpacketizer</LiveStreamPacketizers>
			<!-- Properties defined here will override any properties defined in conf/Streams.xml for any streams types loaded by this application -->
			<Properties>
			</Properties>
		</Streams>
		<Transcoder>
			<!-- To turn on transcoder set to: transcoder -->
			<LiveStreamTranscoder></LiveStreamTranscoder>
			<!-- [templatename].xml or ${SourceStreamName}.xml -->
			<Templates>${SourceStreamName}.xml,transrate.xml</Templates>
			<ProfileDir>${com.wowza.wms.context.VHostConfigHome}/transcoder/profiles</ProfileDir>
			<TemplateDir>${com.wowza.wms.context.VHostConfigHome}/transcoder/templates</TemplateDir>
			<Properties>
			</Properties>
		</Transcoder>

		<DVR>
			<!-- As a single server or as an origin, use dvrstreamingpacketizer in LiveStreamPacketizers above -->
			<!-- Or, in an origin-edge configuration, edges use dvrstreamingrepeater in LiveStreamPacketizers above -->
			<!-- As an origin, also add dvrchunkstreaming to HTTPStreamers below -->

			<!-- To turn on DVR recording set Recorders to dvrrecorder.  This works with dvrstreamingpacketizer  -->
			<Recorders></Recorders>

			<!-- As a single server or as an origin, set the Store to dvrfilestorage-->
			<!-- edges should have this empty -->
			<Store></Store>

			<!--  Window Duration is length of live DVR window in seconds.  0 means the window is never trimmed. -->
			<WindowDuration>0</WindowDuration>

			<!-- Storage Directory is top level location where dvr is stored.  e.g. c:/temp/dvr -->
			<StorageDir>${com.wowza.wms.context.VHostConfigHome}/dvr</StorageDir>

			<!-- valid ArchiveStrategy values are append, version, delete -->
			<ArchiveStrategy>append</ArchiveStrategy>

			<!-- If this is a dvrstreamingrepeater, -->
			<!-- either define the general Application/Repeater/OriginURL below to point back to the origin -->
			<!-- or define this one (which affects only DVR origin-edge).  e.g. http://localhost/dvrorigin -->
			<Repeater>
				<ChunkOriginURL></ChunkOriginURL>
			</Repeater>

			<!-- Properties for DVR -->
			<Properties>
			</Properties>
		</DVR>

		<!-- HTTPStreamers (separate with commas): cupertinostreaming, smoothstreaming, sanjosestreaming, dvrchunkstreaming -->
		<HTTPStreamers>cupertinostreaming,sanjosestreaming,smoothstreaming</HTTPStreamers>
		<SharedObjects>
			<StorageDir></StorageDir>
		</SharedObjects>
		<Client>
			<IdleFrequency>-1</IdleFrequency>
			<Access>
				<StreamReadAccess>*</StreamReadAccess>
				<StreamWriteAccess>*</StreamWriteAccess>
				<StreamAudioSampleAccess></StreamAudioSampleAccess>
				<StreamVideoSampleAccess></StreamVideoSampleAccess>
				<SharedObjectReadAccess>*</SharedObjectReadAccess>
				<SharedObjectWriteAccess>*</SharedObjectWriteAccess>
			</Access>
		</Client>
		<RTP>
			<!-- RTP/Authentication/[type]Methods defined in Authentication.xml. Default setup includes; none, basic, digest -->
			<Authentication>
				<PublishMethod>digest</PublishMethod>
				<PlayMethod>none</PlayMethod>
			</Authentication>
			<!-- RTP/AVSyncMethod. Valid values are: senderreport, systemclock, rtptimecode -->
			<AVSyncMethod>senderreport</AVSyncMethod>
			<MaxRTCPWaitTime>12000</MaxRTCPWaitTime>
			<IdleFrequency>75</IdleFrequency>
			<RTSPSessionTimeout>90000</RTSPSessionTimeout>
			<RTSPMaximumPendingWriteBytes>0</RTSPMaximumPendingWriteBytes>
			<RTSPBindIpAddress>91.120.59.230</RTSPBindIpAddress>
			<RTSPConnectionIpAddress>91.120.59.230</RTSPConnectionIpAddress>
			<RTSPOriginIpAddress>91.120.59.230</RTSPOriginIpAddress>
			<IncomingDatagramPortRanges>*</IncomingDatagramPortRanges>
			<!-- Properties defined here will override any properties defined in conf/RTP.xml for any depacketizers loaded by this application -->
			<Properties>
			</Properties>
		</RTP>
		<MediaCaster>
			<RTP>
				<RTSP>
					<!-- udp, interleave -->
					<RTPTransportMode>interleave</RTPTransportMode>
				</RTSP>
			</RTP>
			<!-- Properties defined here will override any properties defined in conf/MediaCasters.xml for any MediaCasters loaded by this applications -->
			<Properties>
			</Properties>
		</MediaCaster>
		<MediaReader>
			<!-- Properties defined here will override any properties defined in conf/MediaReaders.xml for any MediaReaders loaded by this applications -->
			<Properties>
			</Properties>
		</MediaReader>
		<MediaWriter>
			<!-- Properties defined here will override any properties defined in conf/MediaWriter.xml for any MediaWriter loaded by this applications -->
			<Properties>
			</Properties>
		</MediaWriter>
		<LiveStreamPacketizer>
			<!-- Properties defined here will override any properties defined in conf/LiveStreamPacketizers.xml for any LiveStreamPacketizers loaded by this applications -->
			<Properties>
				<!-- httpRandomizeMediaName: Set this property to true to help to ensure that the chunks in live streams are unique if the encoder is restarted. -->
				<Property>
					<Name>httpRandomizeMediaName</Name>
					<Value>true</Value>
					<Type>Boolean</Type>
				</Property>
			</Properties>
		</LiveStreamPacketizer>
		<HTTPStreamer>
			<!-- Properties defined here will override any properties defined in conf/HTTPStreamers.xml for any HTTPStreamer loaded by this applications -->
			<Properties>
				<!--
				For HTTP caching to work properly, the following aspects of HTTP streaming behave differently:
				o The Wowza server session identifier (_wXXXXXXXXX) must be removed from all playlist and manifest data.
				  This is done automatically when you enable the Wowza server to be an HTTP caching origin (see below).
				o HTTP caching headers must be set to enable content caching.
				o Random identifiers must be added to live media chunk and fragment URLs so that each encoder session is unique from a caching perspective.
				-->
				<!-- httpOriginMode: Enables or disables HTTP origin mode. The default value is on (enabled). -->
				<Property>
					<Name>httpOriginMode</Name>
					<Value>on</Value>
					<Type>String</Type>
				</Property>
				<!-- Apple HLS related BEGIN -->
				<Property>
					<Name>cupertinoCacheControlPlaylist</Name>
					<Value>max-age=1</Value>
					<Type>String</Type>
				</Property>
				<Property>
					<Name>cupertinoCacheControlMediaChunk</Name>
					<Value>max-age=180</Value>
					<Type>String</Type>
				</Property>
				<!-- HLS related END -->
				<!-- Adobe HDS related BEGIN -->
				<Property>
					<Name>sanjoseCacheControlPlaylist</Name>
					<Value>max-age=1</Value>
					<Type>String</Type>
				</Property>
				<Property>
					<Name>sanjoseCacheControlMediaChunk</Name>
					<Value>max-age=180</Value>
					<Type>String</Type>
				</Property>
				<!-- Adobe HDS related END -->
				<!-- Smooth Streaming related BEGIN-->
<!--				<Property>
					<Name>smoothCacheControlPlaylist</Name>
					<Value>max-age=1</Value>
					<Type>String</Type>
				</Property>
				<Property>
					<Name>smoothCacheControlMediaChunk</Name>
					<Value>max-age=3600</Value>
					<Type>String</Type>
				</Property>
				<Property>
					<Name>smoothCacheControlDataChunk</Name>
					<Value>max-age=3600</Value>
					<Type>String</Type>
				</Property>
				<Property>
					<Name>smoothStreamingEncryptionRandomIV</Name>
					<Value>false</Value>
					<Type>Boolean</Type>
				</Property> -->
				<!-- Smooth Streaming related END -->
			</Properties>
		</HTTPStreamer>
		<Repeater>
			<OriginURL></OriginURL>
			<QueryString><![CDATA[]]></QueryString>
		</Repeater> 
		<Modules>
			<Module>
				<Name>base</Name>
				<Description>Base</Description>
				<Class>com.wowza.wms.module.ModuleCore</Class>
			</Module>
			<Module>
				<Name>logging</Name>
				<Description>Client Logging</Description>
				<Class>com.wowza.wms.module.ModuleClientLogging</Class>
			</Module>
			<Module>
				<Name>flvplayback</Name>
				<Description>FLVPlayback</Description>
				<Class>com.wowza.wms.module.ModuleFLVPlayback</Class>
			</Module>
			<Module>
				<Name>ModuleRTMPAuthenticate</Name>
				<Description>ModuleRTMPAuthenticate</Description>
				<Class>com.wowza.wms.security.ModuleRTMPAuthenticate</Class>
			</Module>
			<Module>
				<Name>BonzaWareURLHandler</Name>
				<Description>BonzaWareURLHandler</Description>
				<Class>com.bonzaware.free.url.URLNotifications</Class>
			</Module>
			<Module>
				<Name>WowzaStats</Name>
				<Description>WowzaStats</Description>
				<Class>hu.videosquare.wowza.module.WowzaStats</Class>
			</Module>
			<Module>
				<Name>ModuleLimitStreamViewers</Name>
				<Description>ModuleLimitStreamViewers</Description>
				<Class>com.wowza.wms.plugin.collection.module.ModuleLimitStreamViewers</Class>
			</Module>
		</Modules>
		<!-- Properties defined here will be added to the IApplication.getProperties() and IApplicationInstance.getProperties() collections -->
		<Properties>
			<Property>
				<Name>rtmpEncoderAuthenticateFile</Name>
				<Value>${com.wowza.wms.context.VHostConfigHome}/conf/${com.wowza.wms.context.Application}/publish.password</Value>
			</Property>
			<Property>
				<Name>rtspEncoderAuthenticateFile</Name>
				<Value>${com.wowza.wms.context.VHostConfigHome}/conf/${com.wowza.wms.context.Application}/publish.password</Value>
			</Property>
			<!-- CONNECT HANDLER CONFIG -->
<!--
			<Property>
				<Name>URLPlayHandler</Name>
				<Value>http://dev.videosquare.eu/hu/live/checkstreamaccess</Value>
			</Property>
-->
			<Property>
				<Name>PlayIP</Name>
				<Value>On</Value>
			</Property>
			<Property>
				<Name>PlaySuccess</Name>
				<Value>1</Value>
			</Property>
			<Property>
				<Name>PlayURLParams</Name>
				<Value>sessionid</Value>
			</Property>
			<Property>
				<Name>WowzaStatsMySQLURL</Name>
				<Value>jdbc:mysql://91.120.59.230/teleconnectdev?user=vsq_stats&amp;password=Ne2uEEABGNNUxW6h</Value>
			</Property>
			<Property>
				<Name>WowzaStatsMySQLStatsTable</Name>
				<Value>cdn_streaming_stats</Value>
			</Property>
			<!-- ModuleLimitStreamViewers -->
			<Property>
				<Name>limitStreamViewersMaxConnections</Name>
				<Value>10</Value>
				<Type>Integer</Type>
			</Property>
			<Property>
				<Name>maxStreamViewers</Name>
				<Value>10</Value>
				<Type>Integer</Type>
			</Property>
		</Properties>
	</Application>
</Root>
