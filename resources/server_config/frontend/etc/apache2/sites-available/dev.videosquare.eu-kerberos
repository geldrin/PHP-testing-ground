<VirtualHost 192.168.118.87:80>
    ServerAdmin support@videosqr.com
    DocumentRoot /var/www/dev.videosquare.eu/httpdocs
    ServerName dev.kfki.corp
    ServerAlias org.dev.kfki.corp
    Alias /php5-fcgi php5-fcgi
    SetEnv APPLICATION_ENV "developer"
    SetEnv STAGING "1"
    LimitRequestBody 0

	# tag urls not needing authetication
	RewriteEngine On
	RewriteRule ^/[a-z]{2,4}/contents - [E=no_auth_required:1]
	RewriteRule ^/[a-z]{2,4}/combine - [E=no_auth_required:1]
	RewriteRule ^/([a-z]{2,4}/)?(recordings|live)/(secure)?checkstreamaccess - [E=no_auth_required:1]

	<Directory />
		Options FollowSymLinks
		AllowOverride All
	</Directory>

	<Directory /var/www/dev.videosquare.eu/httpdocs>
		Options Indexes FollowSymLinks
		AllowOverride All
		Order allow,deny
#		Allow from all

		# if no_auth_required = 1 then allow
		Allow from env=no_auth_required
		Satisfy any

		# Kerberos SSO config
		AuthType Kerberos
		AuthName "Videosquare SSO Login"
#		KrbAuthRealm STREAMNET.HU
#		Krb5Keytab /etc/apache2/keys/dev.kfki.corp.keytab
#		KrbServiceName HTTP/dev.kfki.corp
### multidomain
		KrbAuthRealm STREAMNET.HU VSQTEST.HU
		Krb5Keytab /etc/apache2/keys/dev.kfki.corp.multidomain.keytab
		KrbServiceName Any
###
		KrbMethodNegotiate On
		KrbSaveCredentials Off
		KrbMethodK5Passwd Off
		KrbVerifyKDC On
#		KrbAuthoritative On
		Require valid-user

    </Directory>

	# Rewrite debug
	RewriteLog ${APACHE_LOG_DIR}/dev.videosquare.eu-rewrite.log
	RewriteLogLevel 5

    LogLevel debug
	ErrorLog ${APACHE_LOG_DIR}/dev.videosquare.eu-error.log
	CustomLog ${APACHE_LOG_DIR}/dev.videosquare.eu-access.log combined

</VirtualHost>

#<IfModule mod_ssl.c>
#<VirtualHost 192.168.118.87:443>
#    ServerAdmin support@videosquare.eu
#    DocumentRoot /var/www/dev.videosquare.eu/httpdocs
#    ServerName dev.videosquare.eu
#    ServerAlias org.dev.videosquare.eu
#    Alias /php5-fcgi php5-fcgi
#    SetEnv APPLICATION_ENV "developer"
#    SetEnv STAGING "1"
#
#    <Directory />
#      Options FollowSymLinks
#      AllowOverride None
#    </Directory>
#    <Directory /var/www/dev.videosquare.eu/httpdocs>
#      Options Indexes FollowSymLinks MultiViews
#      AllowOverride All
#      Order allow,deny
#      Allow from all
#    </Directory>
#
#    LogLevel warn
#    ErrorLog ${APACHE_LOG_DIR}/dev.videosquare.eu-ssl-error.log
#    CustomLog ${APACHE_LOG_DIR}/dev.videosquare.eu-ssl-access.log combined
#
#    SSLEngine On
#        SSLProtocol All -SSLv2 -SSLv3
#        SSLHonorCipherOrder On
#        SSLCipherSuite ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:ECDH+3DES:DH+3DES:RSA+AESGCM:RSA+AES:RSA+3DES:!aNULL:!MD5:!DSS
#    SSLCertificateFile /etc/apache2/certs/dev.videosquare.eu.chained.pem
#    SSLCertificateKeyFile /etc/apache2/certs/dev.videosquare.eu.key
#        SSLCertificateChainFile /etc/apache2/certs/sub.class1.server.ca.pem
#
#</VirtualHost>
#</IfModule>
